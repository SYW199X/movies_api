(this.webpackJsonpapi=this.webpackJsonpapi||[]).push([[0],{21:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(23),a=n.n(i),o=(n(30),n(9)),s=(n(21),n(31),n(8)),l=n.p+"static/media/logo1.34ff4e93.svg",u=n(1),j=function(){return Object(c.useEffect)((function(){}),[]),Object(u.jsxs)("header",{className:"header",children:[Object(u.jsx)("title",{children:"My Movies"}),Object(u.jsx)("div",{className:"logo-text",children:Object(u.jsx)("img",{src:l,className:"logo",alt:"logo"})}),Object(u.jsx)("div",{className:"nav",children:Object(u.jsx)(s.b,{to:"/movies_api",children:"Top Movies"})})]})},d=n(19),h=n.n(d),b=n(25),p=n.p+"static/media/poster.19f7d118.png",f=n(3);function g(e){var t=e.baseUrl,n=Object(f.e)(),r=n.id,i=n.media,a=Object(c.useState)(!1),s=Object(o.a)(a,2),l=s[0],j=s[1],d=Object(c.useRef)(),g=Object(c.useRef)();return Object(c.useEffect)((function(){function e(){return(e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,e.t0){e.next=5;break}return e.next=4,fetch("https://api.themoviedb.org/3/configuration?api_key=393863da5a92eb3da8aad0a004438259").then((function(e){return e.json()})).then((function(e){return"".concat(e.images.secure_base_url).concat(e.images.poster_sizes[5])}));case 4:e.t0=e.sent;case 5:return g.current=e.t0,e.next=8,fetch("https://api.themoviedb.org/3/".concat(i,"/").concat(r,"?api_key=393863da5a92eb3da8aad0a004438259&language=en-US")).then((function(e){return e.json()})).then((function(e){return d.current=e,e.poster_path})).then((function(e){return j(e?"".concat(g.current).concat(e):p)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),l?Object(u.jsxs)("div",{style:{display:"flex",marginTop:"10vh"},children:[Object(u.jsx)("div",{style:m,children:Object(u.jsx)("img",{src:l,alt:"poster",style:O})}),Object(u.jsxs)("div",{className:"text",children:[Object(u.jsx)("h2",{style:{margin:"0"},children:d.current.title||d.current.original_title||d.current.name}),d.current.created_by&&d.current.created_by[0]?Object(u.jsxs)(u.Fragment,{children:["From ",d.current.created_by.reduce((function(e,t,n,c){var r=!1;return n===c.length-1&&(r=!0),"".concat(e).concat(e?r?" and":",":""," ").concat(t.name)}),""),Object(u.jsx)("br",{})]}):null,d.current.release_date||d.current.first_air_date?Object(u.jsx)(u.Fragment,{children:d.current.release_date||d.current.first_air_date}):null]})]}):Object(u.jsx)("div",{style:{marginTop:"15vh",fontSize:"40px",textAlign:"center"},children:"loading..."})}var m={display:"flex",flexDirection:"column",alignItems:"center",objectFit:"contain",marginLeft:"10vw"},O={height:"70vh",objectFit:"contain",marginRight:"5vw"},v=n(14),x=n(20);function y(e){var t=e.baseUrl,n=e.index,c=e.displayObject,r=Object(x.b)({to:{opacity:1},from:{opacity:0},config:{duration:500},position:"relative"});return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(x.a.div,{style:r,children:Object(u.jsxs)("div",{style:_,children:[Object(u.jsx)(s.b,{style:T,to:"/movies_api/movies/".concat(c[n%c.length].media_type,"/").concat(c[n%c.length].id),children:Object(u.jsx)("img",{style:S,src:c[n%c.length].poster_path?"".concat(t).concat(c[n%c.length].poster_path):p,alt:"movie-poster"})}),Object(u.jsx)(s.b,{style:T,to:"/movies_api/movies/".concat(c[(n+1)%c.length].media_type,"/").concat(c[(n+1)%c.length].id),children:Object(u.jsx)("img",{style:S,src:c[(n+1)%c.length].poster_path?"".concat(t).concat(c[(n+1)%c.length].poster_path):p,alt:"movie-poster"})}),Object(u.jsx)(s.b,{style:T,to:"/movies_api/movies/".concat(c[(n+2)%c.length].media_type,"/").concat(c[(n+2)%c.length].id),children:Object(u.jsx)("img",{style:S,src:c[(n+2)%c.length].poster_path?"".concat(t).concat(c[(n+2)%c.length].poster_path):p,alt:"movie-poster"})}),Object(u.jsx)(s.b,{style:T,to:"/movies_api/movies/".concat(c[(n+3)%c.length].media_type,"/").concat(c[(n+3)%c.length].id),children:Object(u.jsx)("img",{style:S,src:c[(n+3)%c.length].poster_path?"".concat(t).concat(c[(n+3)%c.length].poster_path):p,alt:"movie-poster"})})]})})})}var _={position:"relative",height:"60vh",marginTop:"5vh",display:"flex",justifyContent:"space-evenly",backgroundColor:"transparent",boxSizing:"border-box"},S={height:"100%",objectFit:"contain"},T={height:"100%",objectFit:"contain"},C=5e3,F={position:"absolute",top:"0",bottom:"0",display:"flex",opacity:"0",alignItems:"center",justifyContent:"center",fontSize:"10vh",color:"white",fontFamily:"Arial, Helvetica, sans-serif",cursor:"pointer",padding:"0 10px"},k=Object(v.a)(Object(v.a)({},F),{},{right:"0"}),E=Object(v.a)(Object(v.a)({},F),{},{left:"0"}),N=function(e){var t=e.baseUrl,n=Object(c.useState)(!1),r=Object(o.a)(n,2),i=r[0],a=r[1],s=Object(c.useState)(0),l=Object(o.a)(s,2),j=l[0],d=l[1],h=Object(c.useState)(!0),b=Object(o.a)(h,2),p=b[0],f=b[1],g=Object(c.useState)(!1),m=Object(o.a)(g,2),O=m[0],v=m[1],x=Object(c.useState)(!1),_=Object(o.a)(x,2),S=_[0],T=_[1],F=Object(c.useRef)(),N=Object(c.useRef)(!0);Object(c.useEffect)((function(){var e=0;fetch("https://api.themoviedb.org/3/trending/all/week?api_key=393863da5a92eb3da8aad0a004438259").then((function(e){return e.json()})).then((function(t){e=t.results.length,a(t.results)})).then((function(){F.current=setTimeout((function(){return f(!p)}),C),N.current=!1})).then((function(){var t=Array(Math.ceil(e/5)).fill(null).map((function(e,t){return 0===t?Object(u.jsx)("div",{className:"count currCount",children:t+1},t):Object(u.jsx)("div",{className:"count",children:t+1},t)}));T(t)}))}),[]),Object(c.useEffect)((function(){i&&S&&v(!0)}),[i,S]),Object(c.useEffect)((function(){!0!==N.current&&(w(5),F.current=setTimeout((function(){return f(!p)}),C))}),[p]),Object(c.useEffect)((function(){document.querySelector(".currCount")&&document.querySelectorAll(".currCount").forEach((function(e){return e.classList.remove("currCount")})),0!==document.querySelectorAll(".count").length&&document.querySelectorAll(".count")[Math.floor(j/5)].classList.add("currCount")}),[j]);var w=function(e){d((j+e+i.length)%i.length%i.length)},M=function(e){e.currentTarget.style.opacity="1",e.currentTarget.style.backgroundColor="#58585880",e.currentTarget.addEventListener("mouseleave",(function(e){e.currentTarget.style.opacity="0"}))};return O?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{style:{margin:"0",position:"relative"},children:[Object(u.jsx)(y,{baseUrl:t,index:j,displayObject:i,displayNum:5},j),Object(u.jsx)("div",{style:E,onMouseOver:M,onClick:function(){clearTimeout(F.current),F.current=setTimeout((function(){return f(!p)}),C),w(-5)},children:"\u25c4"}),Object(u.jsx)("div",{style:k,onMouseOver:M,onClick:function(){clearTimeout(F.current),F.current=setTimeout((function(){return f(!p)}),C),w(5)},children:"\u25ba"})]}),Object(u.jsx)("div",{style:{display:"grid",placeItems:"center"},children:Object(u.jsx)("div",{className:"counter",children:S})})]}):Object(u.jsx)("div",{style:{marginTop:"15vh",fontSize:"40px",textAlign:"center"},children:"loading..."})},w=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){fetch("https://api.themoviedb.org/3/configuration?api_key=393863da5a92eb3da8aad0a004438259").then((function(e){return e.json()})).then((function(e){return r("".concat(e.images.secure_base_url).concat(e.images.poster_sizes[5]))}))}),[]),Object(u.jsxs)(s.a,{children:[Object(u.jsx)(j,{}),Object(u.jsx)(f.a,{path:"/movies_api",exact:!0,children:Object(u.jsx)(N,{baseUrl:n})}),Object(u.jsx)(f.a,{path:"/movies_api/movies/:media/:id",children:Object(u.jsx)(g,{baseUrl:n})})]})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root")),M()}},[[39,1,2]]]);
//# sourceMappingURL=main.b3601da7.chunk.js.map